<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blicky Wally</title>

      <link
    rel="icon"
    type="image/png"
    href="https://666forever.github.io/blicky_wally/assets/logoqt.png"
  />


    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #1A1A1A;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px 20px;
            color: #E6E6E6;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
            letter-spacing: 2px;
        }

        .filters {
            display: flex;
            justify-content: left;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .filter-label {
            color: #B3B3B3;
            font-size: 18px;
            font-weight: 500;
        }

        .filter-dropdown {
            background: #1a1a1a;
            color: #fff;
            border: 2px solid #2a2a2a;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            min-width: 180px;
            transition: all 0.3s ease;
        }

        .filter-dropdown:hover {
            background: #2a2a2a;
            border-color: #3a3a3a;
        }

        .filter-dropdown:focus {
            outline: none;
            border-color: #fff;
        }

        .filter-dropdown option {
            background: #1a1a1a;
            color: #fff;
            padding: 10px;
        }

        .count {
            display: none;
        }

        .filter-tag {
            background: none;
            color: #E6E6E6;
            border: none;
            padding: 8px 16px;
            border-radius: 0;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: color 0.2s ease;
            display: inline-block;
        }

        .filter-tag:hover {
            color: #fff;
        }

        .filter-tag.active {
            color: #fff;
            border-bottom: 2px solid #fff;
            padding-bottom: 6px;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            background: #1a1a1a;
            transition: transform 0.3s ease, opacity 0.3s ease;
            aspect-ratio: 16 / 9;
        }

        .gallery-item.hidden {
            display: none;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .gallery-item img.loaded {
            opacity: 1;
        }

        .skeleton {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 8px;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .gallery-item img.loaded ~ .skeleton {
            display: none;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .filters {
                flex-wrap: wrap;
                gap: 10px;
            }

            .filter-tag {
                padding: 8px 14px;
                font-size: 13px;
            }

            .gallery {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                padding: 10px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 20px 10px 10px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .filters {
                gap: 8px;
            }

            .filter-tag {
                padding: 6px 10px;
                font-size: 12px;
            }

            .gallery {
                grid-template-columns: 1fr;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Blicky bless me, Chapo, Draco bless me</h1>
        <div class="filters" id="filters"></div>
    </div>

    <div class="gallery" id="gallery"></div>

    <script>
        // Image data organized by folder
        const imageData = {
          "abstract": [
                    "--bg-abstract-01.jpeg",
                    "--bg-abstract-02.jpg",
                    "--bg-abstract-03.jpeg",
                    "--bg-abstract-04.jpg",
                    "--bg-abstract-05.jpeg",
                    "--bg-abstract-06.jpg",
                    "--bg-abstract-07.jpeg",
                    "--bg-abstract-08.jpeg",
                    "--bg-abstract-09.jpg",
                    "--bg-abstract-10.jpeg",
                    "--bg-abstract-11.jpg",
                    "--bg-abstract-12.jpeg",
                    "--bg-abstract-13.jpg",
                    "--bg-abstract-14.jpeg",
                    "--bg-abstract-15.jpg",
                    "--bg-abstract-16.jpeg",
                    "--bg-abstract-17.jpg",
                    "--bg-abstract-18.jpeg",
                    "--bg-abstract-19.jpg",
                    "--bg-abstract-20.jpeg",
                    "--bg-abstract-21.jpg",
                    "--bg-abstract-22.jpeg",
                    "--bg-abstract-23.jpg"
          ],
          "anime": [
                    "--bg-anime-01.jpeg",
                    "--bg-anime-02.jpg",
                    "--bg-anime-03.png",
                    "--bg-anime-04.jpg",
                    "--bg-anime-05.png",
                    "--bg-anime-06.jpg",
                    "--bg-anime-07.png",
                    "--bg-anime-08.jpg",
                    "--bg-anime-09.png",
                    "--bg-anime-10.jpg",
                    "--bg-anime-11.png",
                    "--bg-anime-12.jpg",
                    "--bg-anime-13.png",
                    "--bg-anime-14.jpg",
                    "--bg-anime-15.png",
                    "--bg-anime-16.jpg",
                    "--bg-anime-17.png",
                    "--bg-anime-18.jpg",
                    "--bg-anime-19.png",
                    "--bg-anime-20.jpg",
                    "--bg-anime-21.png",
                    "--bg-anime-22.jpg",
                    "--bg-anime-23.png",
                    "--bg-anime-24.jpg",
                    "--bg-anime-25.png",
                    "--bg-anime-26.jpg",
                    "--bg-anime-27.png",
                    "--bg-anime-28.jpg",
                    "--bg-anime-29.jpg",
                    "--bg-anime-30.jpg",
                    "--bg-anime-31.jpg",
                    "--bg-anime-32.jpg",
                    "--bg-anime-33.jpg",
                    "--bg-anime-34.jpg",
                    "--bg-anime-35.jpg",
                    "--bg-anime-36.jpg",
                    "--bg-anime-37.jpeg",
                    "--bg-anime-38.jpg",
                    "--bg-anime-39.png",
                    "--bg-anime-40.jpg",
                    "--bg-anime-41.jpg",
                    "--bg-anime-42.jpg",
                    "--bg-anime-43.jpg",
                    "--bg-anime-44.jpeg",
                    "--bg-anime-45.jpg",
                    "--bg-anime-46.png",
                    "--bg-anime-47.jpg",
                    "--bg-anime-48.png",
                    "--bg-anime-49.jpeg",
                    "--bg-anime-50.jpg",
                    "--bg-anime-51.png",
                    "--bg-anime-52.jpeg",
                    "--bg-anime-53.jpg",
                    "--bg-anime-54.png",
                    "--bg-anime-55.jpeg",
                    "--bg-anime-56.jpg",
                    "--bg-anime-57.png",
                    "--bg-anime-58.jpg",
                    "--bg-anime-59.png"
          ],
          "Art from bisBiswas": [
                    "--bg-art-from-bisbiswas-01.jpg",
                    "--bg-art-from-bisbiswas-02.png",
                    "--bg-art-from-bisbiswas-03.jpg",
                    "--bg-art-from-bisbiswas-04.jpg",
                    "--bg-art-from-bisbiswas-05.jpg",
                    "--bg-art-from-bisbiswas-06.jpg",
                    "--bg-art-from-bisbiswas-07.jpg",
                    "--bg-art-from-bisbiswas-08.jpg",
                    "--bg-art-from-bisbiswas-09.jpg",
                    "--bg-art-from-bisbiswas-10.png",
                    "--bg-art-from-bisbiswas-11.jpg",
                    "--bg-art-from-bisbiswas-12.jpg",
                    "--bg-art-from-bisbiswas-13.jpg",
                    "--bg-art-from-bisbiswas-14.jpg",
                    "--bg-art-from-bisbiswas-15.jpg",
                    "--bg-art-from-bisbiswas-16.jpg",
                    "--bg-art-from-bisbiswas-17.jpg",
                    "--bg-art-from-bisbiswas-18.jpg",
                    "--bg-art-from-bisbiswas-19.jpg",
                    "--bg-art-from-bisbiswas-20.jpg",
                    "--bg-art-from-bisbiswas-21.jpg",
                    "--bg-art-from-bisbiswas-22.jpg",
                    "--bg-art-from-bisbiswas-23.jpg",
                    "--bg-art-from-bisbiswas-24.jpg"
          ],
          "floral": [
                    "--bg-floral-01.jpg",
                    "--bg-floral-02.jpg",
                    "--bg-floral-03.jpg",
                    "--bg-floral-04.jpg",
                    "--bg-floral-05.jpg",
                    "--bg-floral-06.jpg",
                    "--bg-floral-07.jpg",
                    "--bg-floral-08.jpg",
                    "--bg-floral-09.jpg",
                    "--bg-floral-10.jpg",
                    "--bg-floral-11.jpg",
                    "--bg-floral-12.jpg",
                    "--bg-floral-13.jpg",
                    "--bg-floral-14.jpg"
          ],
          "fractal glass": [
                    "--bg-fractal-glass-01.jpg",
                    "--bg-fractal-glass-02.jpg",
                    "--bg-fractal-glass-03.jpg",
                    "--bg-fractal-glass-04.jpg",
                    "--bg-fractal-glass-05.jpg",
                    "--bg-fractal-glass-06.jpg",
                    "--bg-fractal-glass-07.jpg",
                    "--bg-fractal-glass-08.jpg",
                    "--bg-fractal-glass-09.jpg",
                    "--bg-fractal-glass-10.jpg",
                    "--bg-fractal-glass-11.jpg",
                    "--bg-fractal-glass-12.jpg"
          ],
          "gradients": [
                    "--bg-gradients-01.jpg",
                    "--bg-gradients-02.png",
                    "--bg-gradients-03.jpg",
                    "--bg-gradients-04.png",
                    "--bg-gradients-05.jpg",
                    "--bg-gradients-06.png",
                    "--bg-gradients-07.jpg",
                    "--bg-gradients-08.png",
                    "--bg-gradients-09.jpg",
                    "--bg-gradients-10.png",
                    "--bg-gradients-11.jpg",
                    "--bg-gradients-12.png",
                    "--bg-gradients-13.jpg",
                    "--bg-gradients-14.png",
                    "--bg-gradients-15.jpg",
                    "--bg-gradients-16.jpg",
                    "--bg-gradients-17.jpg",
                    "--bg-gradients-18.jpg",
                    "--bg-gradients-19.jpg",
                    "--bg-gradients-20.png",
                    "--bg-gradients-21.jpg",
                    "--bg-gradients-22.jpg",
                    "--bg-gradients-23.jpg",
                    "--bg-gradients-24.jpg",
                    "--bg-gradients-25.jpg",
                    "--bg-gradients-26.png",
                    "--bg-gradients-27.jpg",
                    "--bg-gradients-28.png"
          ],
          "iridescent": [
                    "--bg-iridescent-01.jpg",
                    "--bg-iridescent-02.jpg",
                    "--bg-iridescent-03.jpg",
                    "--bg-iridescent-04.jpg",
                    "--bg-iridescent-05.jpg",
                    "--bg-iridescent-06.jpg",
                    "--bg-iridescent-07.jpg",
                    "--bg-iridescent-08.jpg",
                    "--bg-iridescent-09.jpg",
                    "--bg-iridescent-10.jpg",
                    "--bg-iridescent-11.jpg"
          ],
          "Minimal": [
                    "--bg-minimal-01.png",
                    "--bg-minimal-02.jpg",
                    "--bg-minimal-03.jpg",
                    "--bg-minimal-04.png",
                    "--bg-minimal-05.png",
                    "--bg-minimal-06.png",
                    "--bg-minimal-07.jpg",
                    "--bg-minimal-08.jpg",
                    "--bg-minimal-09.png"
          ],
          "pastel": [
                    "--bg-pastel-01.jpg",
                    "--bg-pastel-02.jpg",
                    "--bg-pastel-03.jpg",
                    "--bg-pastel-04.jpg",
                    "--bg-pastel-05.jpg",
                    "--bg-pastel-06.jpg",
                    "--bg-pastel-07.jpg",
                    "--bg-pastel-08.jpg",
                    "--bg-pastel-09.jpg",
                    "--bg-pastel-10.jpg",
                    "--bg-pastel-11.jpg",
                    "--bg-pastel-12.jpg"
          ],
          "phone": [
                    "--bg-phone-01.jpg",
                    "--bg-phone-02.jpg",
                    "--bg-phone-03.jpg",
                    "--bg-phone-04.jpg",
                    "--bg-phone-05.jpg",
                    "--bg-phone-06.jpg",
                    "--bg-phone-07.jpg",
                    "--bg-phone-08.jpg",
                    "--bg-phone-09.jpg"
          ],
          "photography": [
                    "--bg-photography-01.jpg",
                    "--bg-photography-02.jpg",
                    "--bg-photography-03.jpg"
          ]
        };

        const BASE_URL = "Images/";
        const BATCH_SIZE = 30;
        
        const gallery = document.getElementById('gallery');
        const filtersContainer = document.getElementById('filters');
        
        let currentFilter = 'all';
        let displayedImages = [];
        let loadedCount = 0;
        let observer = null;
        let sentinel = null;

        // Memoized image list builder
        let cachedAllImages = null;
        function buildImageList() {
            if (cachedAllImages) return cachedAllImages;
            
            const images = [];
            for (const [category, files] of Object.entries(imageData)) {
                files.forEach(file => {
                    images.push({
                        path: `${category}/${file}`,
                        category,
                        filename: file
                    });
                });
            }
            cachedAllImages = images;
            return images;
        }

        // Initialize image list
        const allImages = buildImageList();
        displayedImages = [...allImages];

        // Create filter tags
        function initializeFilters() {
            const categories = ['all', ...Object.keys(imageData)];
            
            categories.forEach(category => {
                const tag = document.createElement('button');
                tag.className = 'filter-tag';
                tag.dataset.category = category;
                tag.textContent = category === 'all' ? 'All' : category;
                
                if (category === 'all') {
                    tag.classList.add('active');
                }
                
                tag.addEventListener('click', () => filterByCategory(category));
                filtersContainer.appendChild(tag);
            });
        }

        // Create gallery item
        function createGalleryItem(imageObj) {
            const imageUrl = BASE_URL + imageObj.path;
            
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.dataset.category = imageObj.category;
            
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = imageObj.filename.replace(/\.[^/.]+$/, "").replace(/-|_/g, " ");
            img.loading = 'lazy';
            img.onclick = () => window.open(imageUrl, '_blank');
            
            const skeleton = document.createElement('div');
            skeleton.className = 'skeleton';
            
            img.onload = function() {
                this.classList.add('loaded');
            };
            
            item.appendChild(img);
            item.appendChild(skeleton);
            
            return item;
        }

        // Load next batch of images
        function loadNextBatch() {
            const fragment = document.createDocumentFragment();
            const end = Math.min(loadedCount + BATCH_SIZE, displayedImages.length);
            
            for (let i = loadedCount; i < end; i++) {
                const item = createGalleryItem(displayedImages[i]);
                fragment.appendChild(item);
            }
            
            gallery.appendChild(fragment);
            loadedCount = end;
            
            // Disconnect observer if all images loaded
            if (loadedCount >= displayedImages.length && observer) {
                observer.disconnect();
            }
        }

        // Setup Intersection Observer
        function setupObserver() {
            if (observer) {
                observer.disconnect();
            }

            sentinel = document.createElement('div');
            sentinel.style.height = '1px';

            observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting && loadedCount < displayedImages.length) {
                    loadNextBatch();
                }
            }, {
                rootMargin: '500px'
            });

            observer.observe(sentinel);
        }

        // Filter by category
        function filterByCategory(category) {
            currentFilter = category;
            
            // Update active tag
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.classList.remove('active');
                if (tag.dataset.category === category) {
                    tag.classList.add('active');
                }
            });
            
            // Filter images
            if (category === 'all') {
                displayedImages = [...allImages];
            } else {
                displayedImages = allImages.filter(img => img.category === category);
            }
            
            // Reset gallery
            gallery.innerHTML = '';
            loadedCount = 0;
            
            // Setup observer, load first batch, then add sentinel
            setupObserver();
            loadNextBatch();
            gallery.appendChild(sentinel);
        }

        // Initialize
        initializeFilters();
        setupObserver();
        loadNextBatch();
        gallery.appendChild(sentinel);
    </script>
</body>
</html>
