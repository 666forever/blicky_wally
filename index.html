<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blicky Wally</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #0a0a0a;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 20px 20px;
            color: #fff;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
            letter-spacing: 2px;
        }

        .filters {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .filter-label {
            color: #fff;
            font-size: 14px;
            font-weight: 500;
        }

        .filter-dropdown {
            background: #1a1a1a;
            color: #fff;
            border: 2px solid #2a2a2a;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            min-width: 180px;
            transition: all 0.3s ease;
        }

        .filter-dropdown:hover {
            background: #2a2a2a;
            border-color: #3a3a3a;
        }

        .filter-dropdown:focus {
            outline: none;
            border-color: #fff;
        }

        .filter-dropdown option {
            background: #1a1a1a;
            color: #fff;
            padding: 10px;
        }

        .count {
            color: #666;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            background: #1a1a1a;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .gallery-item.hidden {
            display: none;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
        }

        .gallery-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            display: block;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-item img.loaded {
            opacity: 1;
        }

        .skeleton {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 250px;
            background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 8px;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .gallery-item img.loaded ~ .skeleton {
            display: none;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .filters {
                flex-direction: column;
                gap: 10px;
            }

            .filter-dropdown {
                width: 100%;
                max-width: 300px;
            }

            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 15px;
                padding: 10px;
            }

            .gallery-item img,
            .skeleton {
                height: 200px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .header {
                padding: 20px 10px 10px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .filter-label {
                font-size: 13px;
            }

            .filter-dropdown {
                font-size: 13px;
                padding: 8px 15px;
            }

            .gallery {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Blicky bless me, Chapo, Draco bless me</h1>
        <div class="filters">
            <label class="filter-label" for="categoryFilter">Filter:</label>
            <select class="filter-dropdown" id="categoryFilter">
                <option value="all">All Categories</option>
                <option value="abstract">Abstract</option>
                <option value="anime">Anime</option>
                <option value="artsy">Artsy</option>
                <option value="floral">Floral</option>
                <option value="fractal glass">Fractal Glass</option>
                <option value="gradients">Gradients</option>
                <option value="iridescent">Iridescent</option>
                <option value="pastel">Pastel</option>
                <option value="phone">Phone</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="count" id="count"></div>
    </div>

    <div class="gallery" id="gallery"></div>

    <script>
        // Image data organized by folder
        const imageData = {
            "abstract": [
                "gradient, chaotic, bright, (1).jpeg",
                "shape, purple, anime, styled, toned down, (3).jpg",
                "shape, purple, anime, styled, toned down, (4).jpeg",
                "shape, purple, anime, styled, toned down, (4).jpg",
                "shape, purple, anime, styled, toned down, (5).jpg",
                "shape, smooth, minimalism, modern,  (1).jpeg",
                "shape, smooth, minimalism, modern,  (10).jpg",
                "shape, smooth, minimalism, modern,  (11).jpeg",
                "shape, smooth, minimalism, modern,  (11).jpg",
                "shape, smooth, minimalism, modern,  (12).jpeg",
                "shape, smooth, minimalism, modern,  (12).jpg",
                "shape, smooth, minimalism, modern,  (13).jpg",
                "shape, smooth, minimalism, modern,  (14).jpg",
                "shape, smooth, minimalism, modern,  (16).jpeg",
                "shape, smooth, minimalism, modern,  (4).jpeg",
                "shape, smooth, minimalism, modern,  (5).jpeg",
                "shape, smooth, minimalism, modern,  (6).jpeg",
                "shape, smooth, minimalism, modern,  (7).jpeg",
                "shape, smooth, minimalism, modern,  (8).jpeg",
                "shape, smooth, minimalism, modern,  (9).jpeg",
                "toned down, calm, ethereal, .jpg"
            ],
            "anime": [
                "anime (1).jpeg",
                "anime (1).jpg",
                "anime (1).png",
                "anime (11).png",
                "anime (12).jpg",
                "anime (12).png",
                "anime (13).jpg",
                "anime (14).jpg",
                "anime (15).jpg",
                "anime (16).jpg",
                "anime (17).jpg",
                "anime (2).jpeg",
                "anime (2).jpg",
                "anime (2).png",
                "anime (3).jpeg",
                "anime (3).jpg",
                "anime (3).png",
                "anime (4).jpg",
                "anime (4).png",
                "anime (5).jpeg",
                "anime (5).png",
                "anime (6).jpeg",
                "anime (6).jpg",
                "anime (6).png",
                "anime (7).jpeg",
                "anime (7).png",
                "anime (8).jpg",
                "anime (8).png",
                "anime (9).png",
                "purple, anime, styled, toned down, (2).jpg",
                "purple, anime, styled, toned down, (2).png",
                "purple, anime, styled, toned down, (5).jpg",
                "purple, anime, styled, toned down, (6).jpg"
            ],
            "artsy": [
                "dreamy, soft tones, aesthetic,  (1).jpg",
                "dreamy, soft tones, aesthetic,  (2).jpg",
                "dreamy, soft tones, aesthetic,  (3).jpg",
                "dreamy, soft tones, aesthetic,  (4).jpg",
                "dreamy, soft tones, aesthetic,  (5).jpg",
                "dreamy, soft tones, aesthetic,  (6).jpg"
            ],
            "floral": [
                "floral (1).jpg",
                "floral (10).jpg",
                "floral (11).jpg",
                "floral (12).jpg",
                "floral (13).jpg",
                "floral (14).jpg",
                "floral (2).jpg",
                "floral (3).jpg",
                "floral (4).jpg",
                "floral (5).jpg",
                "floral (6).jpg",
                "floral (7).jpg",
                "floral (8).jpg",
                "floral (9).jpg"
            ],
            "fractal glass": [
                "fractal glass, gradient, soft, minimalism, clean,  (1).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (10).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (11).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (2).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (3).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (4).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (5).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (6).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (7).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (8).jpg",
                "fractal glass, gradient, soft, minimalism, clean,  (9).jpg",
                "fractal glass, gradient, soft, minimalism, clean, (10).jpg"
            ],
            "gradients": [
                "gradient (1).jpg",
                "gradient (1).png",
                "gradient (10).jpg",
                "gradient (11).jpg",
                "gradient (12).jpg",
                "gradient (2).jpg",
                "gradient (2).png",
                "gradient (3).jpg",
                "gradient (3).png",
                "gradient (4).jpg",
                "gradient (4).png",
                "gradient (5).jpg",
                "gradient (5).png",
                "gradient (6).jpg",
                "gradient (6).png",
                "gradient (7).jpg",
                "gradient (7).png",
                "gradient (8).jpg",
                "gradient (9).jpg",
                "purple, styled, toned down, (2).jpg",
                "purple, styled, toned down, (2).png",
                "purple, styled, toned down, (3).png"
            ],
            "iridescent": [
                "iridescent, clean, calm,  (1).jpg",
                "iridescent, clean, calm,  (10).jpg",
                "iridescent, clean, calm,  (2).jpg",
                "iridescent, clean, calm,  (3).jpg",
                "iridescent, clean, calm,  (4).jpg",
                "iridescent, clean, calm,  (5).jpg",
                "iridescent, clean, calm,  (6).jpg",
                "iridescent, clean, calm,  (7).jpg",
                "iridescent, clean, calm,  (8).jpg",
                "iridescent, clean, calm,  (9).jpg",
                "iridescent, clean, calm, .jpg"
            ],
            "pastel": [
                "gradient, pastel, white, iridescent,  (1).jpg",
                "gradient, pastel, white, iridescent,  (10).jpg",
                "gradient, pastel, white, iridescent,  (11).jpg",
                "gradient, pastel, white, iridescent,  (2).jpg",
                "gradient, pastel, white, iridescent,  (3).jpg",
                "gradient, pastel, white, iridescent,  (4).jpg",
                "gradient, pastel, white, iridescent,  (5).jpg",
                "gradient, pastel, white, iridescent,  (6).jpg",
                "gradient, pastel, white, iridescent,  (7).jpg",
                "gradient, pastel, white, iridescent,  (8).jpg",
                "gradient, pastel, white, iridescent,  (9).jpg",
                "gradient, pastel, white, iridescent, (12).jpg"
            ],
            "phone": [
                "phone (1).jpg",
                "phone (2).jpg",
                "phone (3).jpg",
                "phone (4).jpg",
                "phone (5).jpg",
                "phone (6).jpg",
                "phone (7).jpg",
                "phone (8).jpg",
                "phone (9).jpg"
            ],
            "other": [
                "anime (5).jpg",
                "anime (9).jpg",
                "dark, .jpg",
                "dark, minimalistic, chaos (1).png",
                "dark, minimalistic, chaos (2).png",
                "dark, minimalistic, chaos (3).png",
                "dark, minimalistic, clean, .jpg",
                "purple, anime, styled, toned down, (7).jpg",
                "shape, smooth, minimalism, modern,  (15).jpg"
            ]
        };

        const baseUrl = "Images/";
        const gallery = document.getElementById('gallery');
        const categoryFilter = document.getElementById('categoryFilter');
        const countDisplay = document.getElementById('count');
        
        let currentFilter = 'all';
        let allImages = [];
        let loadedCount = 0;
        const BATCH_SIZE = 30;

        // Build flat list of all images with their paths
        function buildImageList() {
            const images = [];
            for (const [category, files] of Object.entries(imageData)) {
                files.forEach(file => {
                    const path = category === 'other' ? file : `${category}/${file}`;
                    images.push({ path, category, filename: file });
                });
            }
            return images;
        }

        // Initialize
        allImages = buildImageList();

        // Create gallery item element
        function createGalleryItem(imageObj) {
            const imageUrl = baseUrl + imageObj.path;
            
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.dataset.category = imageObj.category;
            
            const skeleton = document.createElement('div');
            skeleton.className = 'skeleton';
            
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = imageObj.filename.replace(/\.[^/.]+$/, "").replace(/-|_/g, " ");
            img.loading = 'lazy';
            img.onclick = () => window.open(imageUrl, '_blank');
            
            img.onload = function() {
                this.classList.add('loaded');
            };
            
            item.appendChild(img);
            item.appendChild(skeleton);
            
            return item;
        }

        // Load next batch of images
        function loadNextBatch() {
            const fragment = document.createDocumentFragment();
            const end = Math.min(loadedCount + BATCH_SIZE, allImages.length);
            
            for (let i = loadedCount; i < end; i++) {
                const item = createGalleryItem(allImages[i]);
                fragment.appendChild(item);
            }
            
            gallery.appendChild(fragment);
            loadedCount = end;
            
            updateCount();
            
            if (loadedCount >= allImages.length) {
                observer.disconnect();
            }
        }

        // Intersection Observer for infinite scroll
        const sentinel = document.createElement('div');
        sentinel.style.height = '1px';
        
        const observer = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting && loadedCount < allImages.length) {
                loadNextBatch();
            }
        }, {
            rootMargin: '500px'
        });

        // Initial load
        loadNextBatch();
        gallery.appendChild(sentinel);
        observer.observe(sentinel);

        // Update count
        function updateCount() {
            const totalImages = buildImageList().length;
            const visible = document.querySelectorAll('.gallery-item:not(.hidden)').length;
            countDisplay.textContent = currentFilter === 'all' 
                ? `${totalImages} wallpapers` 
                : `${visible} of ${totalImages} wallpapers`;
        }

        // Filter functionality
        categoryFilter.addEventListener('change', (e) => {
            const category = e.target.value;
            currentFilter = category;
            
            // Filter the images array
            if (category === 'all') {
                allImages = buildImageList();
            } else {
                allImages = buildImageList().filter(img => img.category === category);
            }
            
            // Clear gallery and reload
            gallery.innerHTML = '';
            loadedCount = 0;
            
            // Re-add sentinel
            gallery.appendChild(sentinel);
            observer.observe(sentinel);
            
            // Load first batch
            loadNextBatch();
        });
    </script>
</body>
</html>
